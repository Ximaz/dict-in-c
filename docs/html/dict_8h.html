<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dict in C: include/dict.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Dict in C<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dict_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">dict.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="dict_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__bucket.html">s_bucket</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The bucket type is a linked list node which contains both the key and the value to store.  <a href="structs__bucket.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__dict.html">s_dict</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents the state of a dict (hashmap) object. Upon insertion, the string keys are hashed using Murmurhash1 algorithm. They are then stored inside a linked list (bucket), inside an array (buckets).  <a href="structs__dict.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__dict__keys.html">s_dict_keys</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents the keys of the dict. It will be computed each time the dict_keys() function is called. It will not be used by other function to operate on the dict, as the internal dict state is known by all functions.  <a href="structs__dict__keys.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__dict__values.html">s_dict_values</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents the values of the dict. It will be computed each time the dict_values() function is called. It will not be used by other function to operate on the dict, as the internal dict state is known by all functions.  <a href="structs__dict__values.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7c424d212d0a2f17f239794857e88e07" id="r_a7c424d212d0a2f17f239794857e88e07"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c424d212d0a2f17f239794857e88e07">DICT_MIN_SIZE</a>&#160;&#160;&#160;(2 &lt;&lt; 3)</td></tr>
<tr class="memdesc:a7c424d212d0a2f17f239794857e88e07"><td class="mdescLeft">&#160;</td><td class="mdescRight">The default number of buckets to be allocated.  <br /></td></tr>
<tr class="separator:a7c424d212d0a2f17f239794857e88e07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65773ee0d1bcdaef4a8e4c61bcf8806a" id="r_a65773ee0d1bcdaef4a8e4c61bcf8806a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65773ee0d1bcdaef4a8e4c61bcf8806a">DICT_HIGH</a>&#160;&#160;&#160;0.5</td></tr>
<tr class="memdesc:a65773ee0d1bcdaef4a8e4c61bcf8806a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The factor limit to be reach before allocating new buckets.  <br /></td></tr>
<tr class="separator:a65773ee0d1bcdaef4a8e4c61bcf8806a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92b5ca4182d13b978c71f6d9e62ca745" id="r_a92b5ca4182d13b978c71f6d9e62ca745"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a92b5ca4182d13b978c71f6d9e62ca745">DICT_LOW</a>&#160;&#160;&#160;0.1</td></tr>
<tr class="memdesc:a92b5ca4182d13b978c71f6d9e62ca745"><td class="mdescLeft">&#160;</td><td class="mdescRight">The factor limit to be reach before deallocating buckets.  <br /></td></tr>
<tr class="separator:a92b5ca4182d13b978c71f6d9e62ca745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa87ee90c1daf77654454f884e16fde66" id="r_aa87ee90c1daf77654454f884e16fde66"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa87ee90c1daf77654454f884e16fde66">DICT_RESIZE_FACTOR</a>&#160;&#160;&#160;2.0 / (<a class="el" href="#a65773ee0d1bcdaef4a8e4c61bcf8806a">DICT_HIGH</a> + <a class="el" href="#a92b5ca4182d13b978c71f6d9e62ca745">DICT_LOW</a>)</td></tr>
<tr class="memdesc:aa87ee90c1daf77654454f884e16fde66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Once multiplied by the number of entries, returns the new dict size.  <br /></td></tr>
<tr class="separator:aa87ee90c1daf77654454f884e16fde66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93bb42c03acbeb39278700e9f668dbdb" id="r_a93bb42c03acbeb39278700e9f668dbdb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93bb42c03acbeb39278700e9f668dbdb">DICT_MUST_GROW</a>(D)</td></tr>
<tr class="memdesc:a93bb42c03acbeb39278700e9f668dbdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the dict must grow to accept new entries.  <br /></td></tr>
<tr class="separator:a93bb42c03acbeb39278700e9f668dbdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a593599c585d7adacb119627085a4e25f" id="r_a593599c585d7adacb119627085a4e25f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a593599c585d7adacb119627085a4e25f">DICT_MUST_SHRINK</a>(D)</td></tr>
<tr class="memdesc:a593599c585d7adacb119627085a4e25f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the dict must shirnk to save some memory upon entry removal.  <br /></td></tr>
<tr class="separator:a593599c585d7adacb119627085a4e25f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2ece6a50bbf9fc78c0bb2f44a7761c4" id="r_ac2ece6a50bbf9fc78c0bb2f44a7761c4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2ece6a50bbf9fc78c0bb2f44a7761c4">HASH_SEED</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ac2ece6a50bbf9fc78c0bb2f44a7761c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The hash seed to use. Mostly for security, but it has to be the same all across the project.  <br /></td></tr>
<tr class="separator:ac2ece6a50bbf9fc78c0bb2f44a7761c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e66decc8af7f74ae9eb17baa064382" id="r_af4e66decc8af7f74ae9eb17baa064382"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4e66decc8af7f74ae9eb17baa064382">DICT_BUCKET_IDX</a>(H,  S)</td></tr>
<tr class="memdesc:af4e66decc8af7f74ae9eb17baa064382"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the index to the bucket in which to store the entry.  <br /></td></tr>
<tr class="separator:af4e66decc8af7f74ae9eb17baa064382"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ae940ecffdd2efc620fbe8ff1d91a2927" id="r_ae940ecffdd2efc620fbe8ff1d91a2927"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae940ecffdd2efc620fbe8ff1d91a2927">free_pair_t</a>) (char *key, void *value)</td></tr>
<tr class="memdesc:ae940ecffdd2efc620fbe8ff1d91a2927"><td class="mdescLeft">&#160;</td><td class="mdescRight">Such function prototype represents the function to use to release the memory allcoated to an entry value. If the value was not allocated (e.g. the value is an integer), then you may use a <code>NULL</code> pointer instead to indicate that the value has not to be free.  <br /></td></tr>
<tr class="separator:ae940ecffdd2efc620fbe8ff1d91a2927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85d9af0f9d956615cd6d9919074bb939" id="r_a85d9af0f9d956615cd6d9919074bb939"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structs__bucket.html">s_bucket</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85d9af0f9d956615cd6d9919074bb939">bucket_t</a></td></tr>
<tr class="memdesc:a85d9af0f9d956615cd6d9919074bb939"><td class="mdescLeft">&#160;</td><td class="mdescRight">The bucket type is a linked list node which contains both the key and the value to store.  <br /></td></tr>
<tr class="separator:a85d9af0f9d956615cd6d9919074bb939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c57453f0b61d5eeb90f43be8b8323b" id="r_ac5c57453f0b61d5eeb90f43be8b8323b"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structs__dict.html">s_dict</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a></td></tr>
<tr class="memdesc:ac5c57453f0b61d5eeb90f43be8b8323b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents the state of a dict (hashmap) object. Upon insertion, the string keys are hashed using Murmurhash1 algorithm. They are then stored inside a linked list (bucket), inside an array (buckets).  <br /></td></tr>
<tr class="separator:ac5c57453f0b61d5eeb90f43be8b8323b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37acf3a986b4069a5498454665a83be7" id="r_a37acf3a986b4069a5498454665a83be7"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structs__dict__keys.html">s_dict_keys</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a37acf3a986b4069a5498454665a83be7">dict_keys_t</a></td></tr>
<tr class="memdesc:a37acf3a986b4069a5498454665a83be7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents the keys of the dict. It will be computed each time the dict_keys() function is called. It will not be used by other function to operate on the dict, as the internal dict state is known by all functions.  <br /></td></tr>
<tr class="separator:a37acf3a986b4069a5498454665a83be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff87357254fc41160f05530cf9e49942" id="r_aff87357254fc41160f05530cf9e49942"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structs__dict__values.html">s_dict_values</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff87357254fc41160f05530cf9e49942">dict_values_t</a></td></tr>
<tr class="memdesc:aff87357254fc41160f05530cf9e49942"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure represents the values of the dict. It will be computed each time the dict_values() function is called. It will not be used by other function to operate on the dict, as the internal dict state is known by all functions.  <br /></td></tr>
<tr class="separator:aff87357254fc41160f05530cf9e49942"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a524dc6d79f8e1df8fa88198549ccaacb" id="r_a524dc6d79f8e1df8fa88198549ccaacb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a524dc6d79f8e1df8fa88198549ccaacb">dict_buckets_ctor</a> (<a class="el" href="#a85d9af0f9d956615cd6d9919074bb939">bucket_t</a> **buckets, uint64_t size)</td></tr>
<tr class="memdesc:a524dc6d79f8e1df8fa88198549ccaacb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates new buckets linked list inside the array.  <br /></td></tr>
<tr class="separator:a524dc6d79f8e1df8fa88198549ccaacb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac20f129d95f8bf5e1ec41b351d4e7046" id="r_ac20f129d95f8bf5e1ec41b351d4e7046"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac20f129d95f8bf5e1ec41b351d4e7046">dict_buckets_dtor</a> (<a class="el" href="#a85d9af0f9d956615cd6d9919074bb939">bucket_t</a> **buckets, uint64_t size, <a class="el" href="#ae940ecffdd2efc620fbe8ff1d91a2927">free_pair_t</a> free_pair)</td></tr>
<tr class="memdesc:ac20f129d95f8bf5e1ec41b351d4e7046"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates buckets linked list from the array.  <br /></td></tr>
<tr class="separator:ac20f129d95f8bf5e1ec41b351d4e7046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8dfdef434b70705a9802cf6a8fc7c09" id="r_ab8dfdef434b70705a9802cf6a8fc7c09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8dfdef434b70705a9802cf6a8fc7c09">dict_bucket_has_key</a> (const <a class="el" href="#a85d9af0f9d956615cd6d9919074bb939">bucket_t</a> *bucket, const char *key)</td></tr>
<tr class="memdesc:ab8dfdef434b70705a9802cf6a8fc7c09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether a key is present in the bucket.  <br /></td></tr>
<tr class="separator:ab8dfdef434b70705a9802cf6a8fc7c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a736cd20eaee3b5c4aefbc432731c11d6" id="r_a736cd20eaee3b5c4aefbc432731c11d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a736cd20eaee3b5c4aefbc432731c11d6">dict_bucket_insert</a> (<a class="el" href="#a85d9af0f9d956615cd6d9919074bb939">bucket_t</a> **bucket, char *key, void *value)</td></tr>
<tr class="memdesc:a736cd20eaee3b5c4aefbc432731c11d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts an entry into a dict bucket.  <br /></td></tr>
<tr class="separator:a736cd20eaee3b5c4aefbc432731c11d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa45227550c22a8eb6e3af274ed91488c" id="r_aa45227550c22a8eb6e3af274ed91488c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa45227550c22a8eb6e3af274ed91488c">dict_buckets_debug</a> (<a class="el" href="#a85d9af0f9d956615cd6d9919074bb939">bucket_t</a> *const *buckets, uint64_t size)</td></tr>
<tr class="memdesc:aa45227550c22a8eb6e3af274ed91488c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function prints the content of each linked list bucket from the buckets array.  <br /></td></tr>
<tr class="separator:aa45227550c22a8eb6e3af274ed91488c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe6f8d8d416984156a7187650b66d43" id="r_aabe6f8d8d416984156a7187650b66d43"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabe6f8d8d416984156a7187650b66d43">dict_ctor</a> (void)</td></tr>
<tr class="memdesc:aabe6f8d8d416984156a7187650b66d43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a new dict.  <br /></td></tr>
<tr class="separator:aabe6f8d8d416984156a7187650b66d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab31bdadc44fa3d4dc062d85bbe274975" id="r_ab31bdadc44fa3d4dc062d85bbe274975"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab31bdadc44fa3d4dc062d85bbe274975">dict_dtor</a> (<a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a> *dict, <a class="el" href="#ae940ecffdd2efc620fbe8ff1d91a2927">free_pair_t</a> free_pair)</td></tr>
<tr class="memdesc:ab31bdadc44fa3d4dc062d85bbe274975"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates the dict.  <br /></td></tr>
<tr class="separator:ab31bdadc44fa3d4dc062d85bbe274975"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5afb5c3b7dca4ad31adfc6fd3003c405" id="r_a5afb5c3b7dca4ad31adfc6fd3003c405"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5afb5c3b7dca4ad31adfc6fd3003c405">dict_insert</a> (<a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a> *dict, char *key, uint64_t key_length, void *value)</td></tr>
<tr class="memdesc:a5afb5c3b7dca4ad31adfc6fd3003c405"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert an entry into the dict.  <br /></td></tr>
<tr class="separator:a5afb5c3b7dca4ad31adfc6fd3003c405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1041229270e0b557cd6eb6f7b4efb3a" id="r_ac1041229270e0b557cd6eb6f7b4efb3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1041229270e0b557cd6eb6f7b4efb3a">dict_resize</a> (<a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a> *dict)</td></tr>
<tr class="memdesc:ac1041229270e0b557cd6eb6f7b4efb3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes the dict.  <br /></td></tr>
<tr class="separator:ac1041229270e0b557cd6eb6f7b4efb3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d2857cb35bbf508db10954af07a9768" id="r_a7d2857cb35bbf508db10954af07a9768"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a37acf3a986b4069a5498454665a83be7">dict_keys_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7d2857cb35bbf508db10954af07a9768">dict_get_keys</a> (const <a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a> *dict)</td></tr>
<tr class="memdesc:a7d2857cb35bbf508db10954af07a9768"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of the keys of the dict.  <br /></td></tr>
<tr class="separator:a7d2857cb35bbf508db10954af07a9768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adef26a5494c9bdd0e75276c4ea717d79" id="r_adef26a5494c9bdd0e75276c4ea717d79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adef26a5494c9bdd0e75276c4ea717d79">dict_free_keys</a> (<a class="el" href="#a37acf3a986b4069a5498454665a83be7">dict_keys_t</a> *dict_keys)</td></tr>
<tr class="memdesc:adef26a5494c9bdd0e75276c4ea717d79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release memory from <code>dict_get_keys</code> allocations.  <br /></td></tr>
<tr class="separator:adef26a5494c9bdd0e75276c4ea717d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a335932b9203c802312366d3c1444cf3f" id="r_a335932b9203c802312366d3c1444cf3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#aff87357254fc41160f05530cf9e49942">dict_values_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a335932b9203c802312366d3c1444cf3f">dict_get_values</a> (const <a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a> *dict)</td></tr>
<tr class="memdesc:a335932b9203c802312366d3c1444cf3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of the values of the dict.  <br /></td></tr>
<tr class="separator:a335932b9203c802312366d3c1444cf3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66becdbd651b0382712e8d7ed0cd22ce" id="r_a66becdbd651b0382712e8d7ed0cd22ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66becdbd651b0382712e8d7ed0cd22ce">dict_free_values</a> (<a class="el" href="#aff87357254fc41160f05530cf9e49942">dict_values_t</a> *dict_values)</td></tr>
<tr class="memdesc:a66becdbd651b0382712e8d7ed0cd22ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release memory from <code>dict_get_values</code> allocations.  <br /></td></tr>
<tr class="separator:a66becdbd651b0382712e8d7ed0cd22ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af4e66decc8af7f74ae9eb17baa064382" name="af4e66decc8af7f74ae9eb17baa064382"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4e66decc8af7f74ae9eb17baa064382">&#9670;&#160;</a></span>DICT_BUCKET_IDX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DICT_BUCKET_IDX</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>H</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>S</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(H) % (S)</div>
</div><!-- fragment -->
<p>Returns the index to the bucket in which to store the entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">H</td><td>The key hash. </td></tr>
    <tr><td class="paramname">S</td><td>The size of the buckets array. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dict_8h_source.html#l00068">68</a> of file <a class="el" href="dict_8h_source.html">dict.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="dict__insert_8c_source.html#l00012">dict_insert()</a>, and <a class="el" href="dict__resize_8c_source.html#l00052">dict_rehash_bucket()</a>.</p>

</div>
</div>
<a id="a65773ee0d1bcdaef4a8e4c61bcf8806a" name="a65773ee0d1bcdaef4a8e4c61bcf8806a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65773ee0d1bcdaef4a8e4c61bcf8806a">&#9670;&#160;</a></span>DICT_HIGH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DICT_HIGH&#160;&#160;&#160;0.5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The factor limit to be reach before allocating new buckets. </p>

<p class="definition">Definition at line <a class="el" href="dict_8h_source.html#l00023">23</a> of file <a class="el" href="dict_8h_source.html">dict.h</a>.</p>

</div>
</div>
<a id="a92b5ca4182d13b978c71f6d9e62ca745" name="a92b5ca4182d13b978c71f6d9e62ca745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92b5ca4182d13b978c71f6d9e62ca745">&#9670;&#160;</a></span>DICT_LOW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DICT_LOW&#160;&#160;&#160;0.1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The factor limit to be reach before deallocating buckets. </p>

<p class="definition">Definition at line <a class="el" href="dict_8h_source.html#l00029">29</a> of file <a class="el" href="dict_8h_source.html">dict.h</a>.</p>

</div>
</div>
<a id="a7c424d212d0a2f17f239794857e88e07" name="a7c424d212d0a2f17f239794857e88e07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c424d212d0a2f17f239794857e88e07">&#9670;&#160;</a></span>DICT_MIN_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DICT_MIN_SIZE&#160;&#160;&#160;(2 &lt;&lt; 3)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The default number of buckets to be allocated. </p>

<p class="definition">Definition at line <a class="el" href="dict_8h_source.html#l00017">17</a> of file <a class="el" href="dict_8h_source.html">dict.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="dict__ctor_8c_source.html#l00011">dict_ctor()</a>, and <a class="el" href="dict__resize_8c_source.html#l00074">round_size()</a>.</p>

</div>
</div>
<a id="a93bb42c03acbeb39278700e9f668dbdb" name="a93bb42c03acbeb39278700e9f668dbdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93bb42c03acbeb39278700e9f668dbdb">&#9670;&#160;</a></span>DICT_MUST_GROW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DICT_MUST_GROW</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>D</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((float) (D)-&gt;items / (float) (D)-&gt;size) &gt; <a class="code hl_define" href="#a65773ee0d1bcdaef4a8e4c61bcf8806a">DICT_HIGH</a></div>
<div class="ttc" id="adict_8h_html_a65773ee0d1bcdaef4a8e4c61bcf8806a"><div class="ttname"><a href="#a65773ee0d1bcdaef4a8e4c61bcf8806a">DICT_HIGH</a></div><div class="ttdeci">#define DICT_HIGH</div><div class="ttdoc">The factor limit to be reach before allocating new buckets.</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00023">dict.h:23</a></div></div>
</div><!-- fragment -->
<p>Returns whether the dict must grow to accept new entries. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">D</td><td>The dict to evaluate. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dict_8h_source.html#l00043">43</a> of file <a class="el" href="dict_8h_source.html">dict.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="dict__insert_8c_source.html#l00012">dict_insert()</a>.</p>

</div>
</div>
<a id="a593599c585d7adacb119627085a4e25f" name="a593599c585d7adacb119627085a4e25f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a593599c585d7adacb119627085a4e25f">&#9670;&#160;</a></span>DICT_MUST_SHRINK</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DICT_MUST_SHRINK</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>D</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((float) (D)-&gt;items / (float) (D)-&gt;size) &lt; <a class="code hl_define" href="#a92b5ca4182d13b978c71f6d9e62ca745">DICT_LOW</a></div>
<div class="ttc" id="adict_8h_html_a92b5ca4182d13b978c71f6d9e62ca745"><div class="ttname"><a href="#a92b5ca4182d13b978c71f6d9e62ca745">DICT_LOW</a></div><div class="ttdeci">#define DICT_LOW</div><div class="ttdoc">The factor limit to be reach before deallocating buckets.</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00029">dict.h:29</a></div></div>
</div><!-- fragment -->
<p>Returns whether the dict must shirnk to save some memory upon entry removal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">D</td><td>The dict to evaluate. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dict_8h_source.html#l00052">52</a> of file <a class="el" href="dict_8h_source.html">dict.h</a>.</p>

</div>
</div>
<a id="aa87ee90c1daf77654454f884e16fde66" name="aa87ee90c1daf77654454f884e16fde66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa87ee90c1daf77654454f884e16fde66">&#9670;&#160;</a></span>DICT_RESIZE_FACTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DICT_RESIZE_FACTOR&#160;&#160;&#160;2.0 / (<a class="el" href="#a65773ee0d1bcdaef4a8e4c61bcf8806a">DICT_HIGH</a> + <a class="el" href="#a92b5ca4182d13b978c71f6d9e62ca745">DICT_LOW</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Once multiplied by the number of entries, returns the new dict size. </p>

<p class="definition">Definition at line <a class="el" href="dict_8h_source.html#l00035">35</a> of file <a class="el" href="dict_8h_source.html">dict.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="dict__resize_8c_source.html#l00085">dict_resize()</a>.</p>

</div>
</div>
<a id="ac2ece6a50bbf9fc78c0bb2f44a7761c4" name="ac2ece6a50bbf9fc78c0bb2f44a7761c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2ece6a50bbf9fc78c0bb2f44a7761c4">&#9670;&#160;</a></span>HASH_SEED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HASH_SEED&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The hash seed to use. Mostly for security, but it has to be the same all across the project. </p>

<p class="definition">Definition at line <a class="el" href="dict_8h_source.html#l00059">59</a> of file <a class="el" href="dict_8h_source.html">dict.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="dict__insert_8c_source.html#l00012">dict_insert()</a>, and <a class="el" href="dict__resize_8c_source.html#l00052">dict_rehash_bucket()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a85d9af0f9d956615cd6d9919074bb939" name="a85d9af0f9d956615cd6d9919074bb939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85d9af0f9d956615cd6d9919074bb939">&#9670;&#160;</a></span>bucket_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structs__bucket.html">s_bucket</a> <a class="el" href="#a85d9af0f9d956615cd6d9919074bb939">bucket_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The bucket type is a linked list node which contains both the key and the value to store. </p>

</div>
</div>
<a id="a37acf3a986b4069a5498454665a83be7" name="a37acf3a986b4069a5498454665a83be7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37acf3a986b4069a5498454665a83be7">&#9670;&#160;</a></span>dict_keys_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structs__dict__keys.html">s_dict_keys</a> <a class="el" href="#a37acf3a986b4069a5498454665a83be7">dict_keys_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This structure represents the keys of the dict. It will be computed each time the dict_keys() function is called. It will not be used by other function to operate on the dict, as the internal dict state is known by all functions. </p>

</div>
</div>
<a id="ac5c57453f0b61d5eeb90f43be8b8323b" name="ac5c57453f0b61d5eeb90f43be8b8323b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5c57453f0b61d5eeb90f43be8b8323b">&#9670;&#160;</a></span>dict_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structs__dict.html">s_dict</a> <a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This structure represents the state of a dict (hashmap) object. Upon insertion, the string keys are hashed using Murmurhash1 algorithm. They are then stored inside a linked list (bucket), inside an array (buckets). </p>
<p>Upon key insertion, if the number of items is greater than half the size, the buckets array is enlarged and all the key hashes are re-computed.</p>
<p>Upon key deletion, if the number of items is lower than the DICT_MIN_SIZE value, the buckets array is reduced and all the key hashes are re-comupted.</p>
<p>If a key is inserted twice, it's entry is overwritten to store the new value associated to that key. If the entry value was already allocated, the memory will not be released correctly, unless the programmer does it before using the same key twice (or more). </p>

</div>
</div>
<a id="aff87357254fc41160f05530cf9e49942" name="aff87357254fc41160f05530cf9e49942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff87357254fc41160f05530cf9e49942">&#9670;&#160;</a></span>dict_values_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structs__dict__values.html">s_dict_values</a> <a class="el" href="#aff87357254fc41160f05530cf9e49942">dict_values_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This structure represents the values of the dict. It will be computed each time the dict_values() function is called. It will not be used by other function to operate on the dict, as the internal dict state is known by all functions. </p>

</div>
</div>
<a id="ae940ecffdd2efc620fbe8ff1d91a2927" name="ae940ecffdd2efc620fbe8ff1d91a2927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae940ecffdd2efc620fbe8ff1d91a2927">&#9670;&#160;</a></span>free_pair_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* free_pair_t) (char *key, void *value)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Such function prototype represents the function to use to release the memory allcoated to an entry value. If the value was not allocated (e.g. the value is an integer), then you may use a <code>NULL</code> pointer instead to indicate that the value has not to be free. </p>

<p class="definition">Definition at line <a class="el" href="dict_8h_source.html#l00076">76</a> of file <a class="el" href="dict_8h_source.html">dict.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab8dfdef434b70705a9802cf6a8fc7c09" name="ab8dfdef434b70705a9802cf6a8fc7c09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8dfdef434b70705a9802cf6a8fc7c09">&#9670;&#160;</a></span>dict_bucket_has_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dict_bucket_has_key </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#a85d9af0f9d956615cd6d9919074bb939">bucket_t</a> *</td>          <td class="paramname"><span class="paramname"><em>bucket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether a key is present in the bucket. </p>
<dl class="section warning"><dt>Warning</dt><dd>If a <code>NULL</code> pointer is passed for bucket, the function will crash.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If the key is <code>NULL</code> a falsy value may be returned. Make sure it's not before calling the function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket</td><td>The bucket in which to look for the key. </td></tr>
    <tr><td class="paramname">key</td><td>The key to look for in the bucket. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if present, 0 if not present. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dict__bucket__has__key_8c_source.html#l00011">11</a> of file <a class="el" href="dict__bucket__has__key_8c_source.html">dict_bucket_has_key.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   12</span>{</div>
<div class="line"><span class="lineno">   13</span>    <span class="keywordflow">while</span> (NULL != bucket-&gt;<a class="code hl_variable" href="structs__bucket.html#a07235b6d4be9d326a8b24ac7f3d8fd3e">key</a>) {</div>
<div class="line"><span class="lineno">   14</span>        <span class="keywordflow">if</span> (bucket-&gt;<a class="code hl_variable" href="structs__bucket.html#a07235b6d4be9d326a8b24ac7f3d8fd3e">key</a> == key || 0 == strcmp(bucket-&gt;<a class="code hl_variable" href="structs__bucket.html#a07235b6d4be9d326a8b24ac7f3d8fd3e">key</a>, key))</div>
<div class="line"><span class="lineno">   15</span>            <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">   16</span>        bucket = bucket-&gt;<a class="code hl_variable" href="structs__bucket.html#accef4e30d0ddd4ce431b88bacb0f00da">next</a>;</div>
<div class="line"><span class="lineno">   17</span>    }</div>
<div class="line"><span class="lineno">   18</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   19</span>}</div>
<div class="ttc" id="astructs__bucket_html_a07235b6d4be9d326a8b24ac7f3d8fd3e"><div class="ttname"><a href="structs__bucket.html#a07235b6d4be9d326a8b24ac7f3d8fd3e">s_bucket::key</a></div><div class="ttdeci">char * key</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00084">dict.h:84</a></div></div>
<div class="ttc" id="astructs__bucket_html_accef4e30d0ddd4ce431b88bacb0f00da"><div class="ttname"><a href="structs__bucket.html#accef4e30d0ddd4ce431b88bacb0f00da">s_bucket::next</a></div><div class="ttdeci">struct s_bucket * next</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00090">dict.h:90</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dict_8h_source.html#l00084">s_bucket::key</a>, and <a class="el" href="dict_8h_source.html#l00090">s_bucket::next</a>.</p>

<p class="reference">Referenced by <a class="el" href="dict__insert_8c_source.html#l00012">dict_insert()</a>.</p>

</div>
</div>
<a id="a736cd20eaee3b5c4aefbc432731c11d6" name="a736cd20eaee3b5c4aefbc432731c11d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a736cd20eaee3b5c4aefbc432731c11d6">&#9670;&#160;</a></span>dict_bucket_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dict_bucket_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a85d9af0f9d956615cd6d9919074bb939">bucket_t</a> **</td>          <td class="paramname"><span class="paramname"><em>bucket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inserts an entry into a dict bucket. </p>
<dl class="section warning"><dt>Warning</dt><dd>If a <code>NULL</code> pointer is passed for bucket, the function will crash.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If it failed to allocate the linked list bucket node, the bucket is left unchanged and the function returns -1.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket</td><td>The pointer to the allocated bucket. </td></tr>
    <tr><td class="paramname">key</td><td>The key of the pair. </td></tr>
    <tr><td class="paramname">value</td><td>The value of the pair. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dict__bucket__insert_8c_source.html#l00011">11</a> of file <a class="el" href="dict__bucket__insert_8c_source.html">dict_bucket_insert.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   12</span>{</div>
<div class="line"><span class="lineno">   13</span>    <a class="code hl_struct" href="structs__bucket.html">bucket_t</a> *node = (<a class="code hl_struct" href="structs__bucket.html">bucket_t</a> *) calloc(1, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structs__bucket.html">bucket_t</a>));</div>
<div class="line"><span class="lineno">   14</span> </div>
<div class="line"><span class="lineno">   15</span>    <span class="keywordflow">if</span> (NULL == node)</div>
<div class="line"><span class="lineno">   16</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   17</span>    node-&gt;<a class="code hl_variable" href="structs__bucket.html#a07235b6d4be9d326a8b24ac7f3d8fd3e">key</a> = key;</div>
<div class="line"><span class="lineno">   18</span>    node-&gt;<a class="code hl_variable" href="structs__bucket.html#a21984e3cea02225302d8c517cf11fa4f">value</a> = value;</div>
<div class="line"><span class="lineno">   19</span>    node-&gt;<a class="code hl_variable" href="structs__bucket.html#accef4e30d0ddd4ce431b88bacb0f00da">next</a> = *bucket;</div>
<div class="line"><span class="lineno">   20</span>    *bucket = node;</div>
<div class="line"><span class="lineno">   21</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   22</span>}</div>
<div class="ttc" id="astructs__bucket_html"><div class="ttname"><a href="structs__bucket.html">s_bucket</a></div><div class="ttdoc">The bucket type is a linked list node which contains both the key and the value to store.</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00082">dict.h:82</a></div></div>
<div class="ttc" id="astructs__bucket_html_a21984e3cea02225302d8c517cf11fa4f"><div class="ttname"><a href="structs__bucket.html#a21984e3cea02225302d8c517cf11fa4f">s_bucket::value</a></div><div class="ttdeci">void * value</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00087">dict.h:87</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dict_8h_source.html#l00084">s_bucket::key</a>, <a class="el" href="dict_8h_source.html#l00090">s_bucket::next</a>, and <a class="el" href="dict_8h_source.html#l00087">s_bucket::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="dict__insert_8c_source.html#l00012">dict_insert()</a>, and <a class="el" href="dict__resize_8c_source.html#l00052">dict_rehash_bucket()</a>.</p>

</div>
</div>
<a id="a524dc6d79f8e1df8fa88198549ccaacb" name="a524dc6d79f8e1df8fa88198549ccaacb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a524dc6d79f8e1df8fa88198549ccaacb">&#9670;&#160;</a></span>dict_buckets_ctor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dict_buckets_ctor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a85d9af0f9d956615cd6d9919074bb939">bucket_t</a> **</td>          <td class="paramname"><span class="paramname"><em>buckets</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates new buckets linked list inside the array. </p>
<p>If it failed to allocate one bucket, it free all the previously allocated ones before returning -1.</p>
<p>If existing buckets are already allocated inside the array, they will not be free by this function. The programmer will have to free them first, even though the purpose of this function is to allocate buckets of a new buckets array that has just been allocated.</p>
<dl class="section warning"><dt>Warning</dt><dd>If the buckets array is a <code>NULL</code> pointer, the function will crash.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buckets</td><td>The pre-allocated buckets array. </td></tr>
    <tr><td class="paramname">size</td><td>The number of buckets to allocate inside the buckets array. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dict__buckets__ctor_8c_source.html#l00011">11</a> of file <a class="el" href="dict__buckets__ctor_8c_source.html">dict_buckets_ctor.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   12</span>{</div>
<div class="line"><span class="lineno">   13</span>    uint64_t index = 0;</div>
<div class="line"><span class="lineno">   14</span> </div>
<div class="line"><span class="lineno">   15</span>    <span class="keywordflow">for</span> (; index &lt; size; ++index) {</div>
<div class="line"><span class="lineno">   16</span>        buckets[index] = (<a class="code hl_struct" href="structs__bucket.html">bucket_t</a> *) calloc(1, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structs__bucket.html">bucket_t</a>));</div>
<div class="line"><span class="lineno">   17</span>        <span class="keywordflow">if</span> (NULL == buckets[index]) {</div>
<div class="line"><span class="lineno">   18</span>            <a class="code hl_function" href="#ac20f129d95f8bf5e1ec41b351d4e7046">dict_buckets_dtor</a>(buckets, index, NULL);</div>
<div class="line"><span class="lineno">   19</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   20</span>        }</div>
<div class="line"><span class="lineno">   21</span>    }</div>
<div class="line"><span class="lineno">   22</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   23</span>}</div>
<div class="ttc" id="adict_8h_html_ac20f129d95f8bf5e1ec41b351d4e7046"><div class="ttname"><a href="#ac20f129d95f8bf5e1ec41b351d4e7046">dict_buckets_dtor</a></div><div class="ttdeci">void dict_buckets_dtor(bucket_t **buckets, uint64_t size, free_pair_t free_pair)</div><div class="ttdoc">Deallocates buckets linked list from the array.</div><div class="ttdef"><b>Definition</b> <a href="dict__buckets__dtor_8c_source.html#l00041">dict_buckets_dtor.c:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dict__buckets__dtor_8c_source.html#l00041">dict_buckets_dtor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dict__resize_8c_source.html#l00024">compute_new_buckets()</a>, and <a class="el" href="dict__ctor_8c_source.html#l00011">dict_ctor()</a>.</p>

</div>
</div>
<a id="aa45227550c22a8eb6e3af274ed91488c" name="aa45227550c22a8eb6e3af274ed91488c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa45227550c22a8eb6e3af274ed91488c">&#9670;&#160;</a></span>dict_buckets_debug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_buckets_debug </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a85d9af0f9d956615cd6d9919074bb939">bucket_t</a> *const *</td>          <td class="paramname"><span class="paramname"><em>buckets</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function prints the content of each linked list bucket from the buckets array. </p>
<dl class="section warning"><dt>Warning</dt><dd>If <code>NULL</code> pointer is passed, or if the size is greater than the actual size of the array, this function will crash.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The debugging content will be flushed to the <code>stderr</code> file descriptor.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buckets</td><td>The buckets to debug. </td></tr>
    <tr><td class="paramname">size</td><td>The number of bucket inside the buckets array. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dict__buckets__debug_8c_source.html#l00031">31</a> of file <a class="el" href="dict__buckets__debug_8c_source.html">dict_buckets_debug.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   32</span>{</div>
<div class="line"><span class="lineno">   33</span>    uint64_t index = 0;</div>
<div class="line"><span class="lineno">   34</span> </div>
<div class="line"><span class="lineno">   35</span>    <span class="keywordflow">for</span> (; index &lt; size; ++index)</div>
<div class="line"><span class="lineno">   36</span>        <a class="code hl_function" href="dict__buckets__debug_8c.html#aa466354f5bc8f5a963a673ada519f8a7">print_bucket</a>(buckets[index], index);</div>
<div class="line"><span class="lineno">   37</span>}</div>
<div class="ttc" id="adict__buckets__debug_8c_html_aa466354f5bc8f5a963a673ada519f8a7"><div class="ttname"><a href="dict__buckets__debug_8c.html#aa466354f5bc8f5a963a673ada519f8a7">print_bucket</a></div><div class="ttdeci">static void print_bucket(const bucket_t *bucket, uint64_t index)</div><div class="ttdef"><b>Definition</b> <a href="dict__buckets__debug_8c_source.html#l00012">dict_buckets_debug.c:12</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dict__buckets__debug_8c_source.html#l00012">print_bucket()</a>.</p>

</div>
</div>
<a id="ac20f129d95f8bf5e1ec41b351d4e7046" name="ac20f129d95f8bf5e1ec41b351d4e7046"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac20f129d95f8bf5e1ec41b351d4e7046">&#9670;&#160;</a></span>dict_buckets_dtor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_buckets_dtor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a85d9af0f9d956615cd6d9919074bb939">bucket_t</a> **</td>          <td class="paramname"><span class="paramname"><em>buckets</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ae940ecffdd2efc620fbe8ff1d91a2927">free_pair_t</a></td>          <td class="paramname"><span class="paramname"><em>free_pair</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocates buckets linked list from the array. </p>
<dl class="section warning"><dt>Warning</dt><dd>If the buckets array is a <code>NULL</code> pointer, the function will crash.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function will not free the buckets array, just it's elements.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buckets</td><td>The pre-allocated buckets array. </td></tr>
    <tr><td class="paramname">size</td><td>The nuber of buckets to deallocate from the buckets array. </td></tr>
    <tr><td class="paramname">free_pair</td><td>The function to use to free pair, may be <code>NULL</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dict__buckets__dtor_8c_source.html#l00041">41</a> of file <a class="el" href="dict__buckets__dtor_8c_source.html">dict_buckets_dtor.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>{</div>
<div class="line"><span class="lineno">   44</span>    uint64_t index = 0;</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">for</span> (; index &lt; size; ++index)</div>
<div class="line"><span class="lineno">   47</span>        <a class="code hl_function" href="dict__buckets__dtor_8c.html#add14402fbc68afc6e8a89e346a0042dd">dict_bucket_dtor</a>(buckets[index], free_pair);</div>
<div class="line"><span class="lineno">   48</span>}</div>
<div class="ttc" id="adict__buckets__dtor_8c_html_add14402fbc68afc6e8a89e346a0042dd"><div class="ttname"><a href="dict__buckets__dtor_8c.html#add14402fbc68afc6e8a89e346a0042dd">dict_bucket_dtor</a></div><div class="ttdeci">static void dict_bucket_dtor(bucket_t *bucket, free_pair_t free_pair)</div><div class="ttdoc">Deallocate a bucket and free it's content using free_pair.</div><div class="ttdef"><b>Definition</b> <a href="dict__buckets__dtor_8c_source.html#l00022">dict_buckets_dtor.c:22</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dict__buckets__dtor_8c_source.html#l00022">dict_bucket_dtor()</a>.</p>

<p class="reference">Referenced by <a class="el" href="dict__buckets__ctor_8c_source.html#l00011">dict_buckets_ctor()</a>, <a class="el" href="dict__dtor_8c_source.html#l00011">dict_dtor()</a>, and <a class="el" href="dict__resize_8c_source.html#l00085">dict_resize()</a>.</p>

</div>
</div>
<a id="aabe6f8d8d416984156a7187650b66d43" name="aabe6f8d8d416984156a7187650b66d43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabe6f8d8d416984156a7187650b66d43">&#9670;&#160;</a></span>dict_ctor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a> * dict_ctor </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a new dict. </p>
<dl class="section note"><dt>Note</dt><dd>If it failed, returns a <code>NULL</code> pointer.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The allocated dict. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dict__ctor_8c_source.html#l00011">11</a> of file <a class="el" href="dict__ctor_8c_source.html">dict_ctor.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   12</span>{</div>
<div class="line"><span class="lineno">   13</span>    <a class="code hl_struct" href="structs__dict.html">dict_t</a> *dict = (<a class="code hl_struct" href="structs__dict.html">dict_t</a> *) calloc(1, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structs__dict.html">dict_t</a>));</div>
<div class="line"><span class="lineno">   14</span> </div>
<div class="line"><span class="lineno">   15</span>    <span class="keywordflow">if</span> (NULL == dict)</div>
<div class="line"><span class="lineno">   16</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">   17</span>    dict-&gt;<a class="code hl_variable" href="structs__dict.html#a2ddc8b7275ad4df13116ac7e5dfc459e">buckets</a> = (<a class="code hl_struct" href="structs__bucket.html">bucket_t</a> **) calloc(<a class="code hl_define" href="#a7c424d212d0a2f17f239794857e88e07">DICT_MIN_SIZE</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structs__bucket.html">bucket_t</a> *));</div>
<div class="line"><span class="lineno">   18</span>    <span class="keywordflow">if</span> (NULL == dict-&gt;<a class="code hl_variable" href="structs__dict.html#a2ddc8b7275ad4df13116ac7e5dfc459e">buckets</a> || \</div>
<div class="line"><span class="lineno">   19</span>        -1 == <a class="code hl_function" href="#a524dc6d79f8e1df8fa88198549ccaacb">dict_buckets_ctor</a>(dict-&gt;<a class="code hl_variable" href="structs__dict.html#a2ddc8b7275ad4df13116ac7e5dfc459e">buckets</a>, <a class="code hl_define" href="#a7c424d212d0a2f17f239794857e88e07">DICT_MIN_SIZE</a>)) {</div>
<div class="line"><span class="lineno">   20</span>        free(dict);</div>
<div class="line"><span class="lineno">   21</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">   22</span>    }</div>
<div class="line"><span class="lineno">   23</span>    dict-&gt;<a class="code hl_variable" href="structs__dict.html#a70b91e54a49a08e0d06539a06c665f89">items</a> = 0;</div>
<div class="line"><span class="lineno">   24</span>    dict-&gt;<a class="code hl_variable" href="structs__dict.html#a1fd66c225d3cf2cbe5d49b88e4d2c742">size</a> = <a class="code hl_define" href="#a7c424d212d0a2f17f239794857e88e07">DICT_MIN_SIZE</a>;</div>
<div class="line"><span class="lineno">   25</span>    <span class="keywordflow">return</span> dict;</div>
<div class="line"><span class="lineno">   26</span>}</div>
<div class="ttc" id="adict_8h_html_a524dc6d79f8e1df8fa88198549ccaacb"><div class="ttname"><a href="#a524dc6d79f8e1df8fa88198549ccaacb">dict_buckets_ctor</a></div><div class="ttdeci">int dict_buckets_ctor(bucket_t **buckets, uint64_t size)</div><div class="ttdoc">Allocates new buckets linked list inside the array.</div><div class="ttdef"><b>Definition</b> <a href="dict__buckets__ctor_8c_source.html#l00011">dict_buckets_ctor.c:11</a></div></div>
<div class="ttc" id="adict_8h_html_a7c424d212d0a2f17f239794857e88e07"><div class="ttname"><a href="#a7c424d212d0a2f17f239794857e88e07">DICT_MIN_SIZE</a></div><div class="ttdeci">#define DICT_MIN_SIZE</div><div class="ttdoc">The default number of buckets to be allocated.</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00017">dict.h:17</a></div></div>
<div class="ttc" id="astructs__dict_html"><div class="ttname"><a href="structs__dict.html">s_dict</a></div><div class="ttdoc">This structure represents the state of a dict (hashmap) object. Upon insertion, the string keys are h...</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00190">dict.h:190</a></div></div>
<div class="ttc" id="astructs__dict_html_a1fd66c225d3cf2cbe5d49b88e4d2c742"><div class="ttname"><a href="structs__dict.html#a1fd66c225d3cf2cbe5d49b88e4d2c742">s_dict::size</a></div><div class="ttdeci">uint64_t size</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00195">dict.h:195</a></div></div>
<div class="ttc" id="astructs__dict_html_a2ddc8b7275ad4df13116ac7e5dfc459e"><div class="ttname"><a href="structs__dict.html#a2ddc8b7275ad4df13116ac7e5dfc459e">s_dict::buckets</a></div><div class="ttdeci">bucket_t ** buckets</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00198">dict.h:198</a></div></div>
<div class="ttc" id="astructs__dict_html_a70b91e54a49a08e0d06539a06c665f89"><div class="ttname"><a href="structs__dict.html#a70b91e54a49a08e0d06539a06c665f89">s_dict::items</a></div><div class="ttdeci">uint64_t items</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00192">dict.h:192</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dict_8h_source.html#l00198">s_dict::buckets</a>, <a class="el" href="dict__buckets__ctor_8c_source.html#l00011">dict_buckets_ctor()</a>, <a class="el" href="dict_8h_source.html#l00017">DICT_MIN_SIZE</a>, <a class="el" href="dict_8h_source.html#l00192">s_dict::items</a>, and <a class="el" href="dict_8h_source.html#l00195">s_dict::size</a>.</p>

</div>
</div>
<a id="ab31bdadc44fa3d4dc062d85bbe274975" name="ab31bdadc44fa3d4dc062d85bbe274975"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab31bdadc44fa3d4dc062d85bbe274975">&#9670;&#160;</a></span>dict_dtor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_dtor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dict</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ae940ecffdd2efc620fbe8ff1d91a2927">free_pair_t</a></td>          <td class="paramname"><span class="paramname"><em>free_pair</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocates the dict. </p>
<p>The <code>free_pair</code> function will be in charge to free the key of the pair, if not constant, and the value, if not constant. If both are constant, you can pass a <code>NULL</code> pointer as nothing has to be free'd.</p>
<dl class="section warning"><dt>Warning</dt><dd>If a <code>NULL</code> pointer is passed, or if the dict has already been deallocated, the function will crash.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>The dict's pointer to deallocate. </td></tr>
    <tr><td class="paramname">free_pair</td><td>The function to use to free pair, may be <code>NULL</code>. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dict__dtor_8c_source.html#l00011">11</a> of file <a class="el" href="dict__dtor_8c_source.html">dict_dtor.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   12</span>{</div>
<div class="line"><span class="lineno">   13</span>    <a class="code hl_function" href="#ac20f129d95f8bf5e1ec41b351d4e7046">dict_buckets_dtor</a>(dict-&gt;<a class="code hl_variable" href="structs__dict.html#a2ddc8b7275ad4df13116ac7e5dfc459e">buckets</a>, dict-&gt;<a class="code hl_variable" href="structs__dict.html#a1fd66c225d3cf2cbe5d49b88e4d2c742">size</a>, free_pair);</div>
<div class="line"><span class="lineno">   14</span>    free(dict-&gt;<a class="code hl_variable" href="structs__dict.html#a2ddc8b7275ad4df13116ac7e5dfc459e">buckets</a>);</div>
<div class="line"><span class="lineno">   15</span>    free(dict);</div>
<div class="line"><span class="lineno">   16</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dict_8h_source.html#l00198">s_dict::buckets</a>, <a class="el" href="dict__buckets__dtor_8c_source.html#l00041">dict_buckets_dtor()</a>, and <a class="el" href="dict_8h_source.html#l00195">s_dict::size</a>.</p>

</div>
</div>
<a id="adef26a5494c9bdd0e75276c4ea717d79" name="adef26a5494c9bdd0e75276c4ea717d79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adef26a5494c9bdd0e75276c4ea717d79">&#9670;&#160;</a></span>dict_free_keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_free_keys </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a37acf3a986b4069a5498454665a83be7">dict_keys_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dict_keys</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release memory from <code>dict_get_keys</code> allocations. </p>
<p>If a <code>NULL</code> pointer is passed, or if the dict keys have already been deallocated, the function will crash.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict_keys</td><td>The keys to free. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dict__free__keys_8c_source.html#l00011">11</a> of file <a class="el" href="dict__free__keys_8c_source.html">dict_free_keys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   12</span>{</div>
<div class="line"><span class="lineno">   13</span>    free(dict_keys-&gt;<a class="code hl_variable" href="structs__dict__keys.html#a06f0b2ba80c00fe0335494f6df9a0df2">keys</a>);</div>
<div class="line"><span class="lineno">   14</span>    free(dict_keys);</div>
<div class="line"><span class="lineno">   15</span>}</div>
<div class="ttc" id="astructs__dict__keys_html_a06f0b2ba80c00fe0335494f6df9a0df2"><div class="ttname"><a href="structs__dict__keys.html#a06f0b2ba80c00fe0335494f6df9a0df2">s_dict_keys::keys</a></div><div class="ttdeci">const char ** keys</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00291">dict.h:291</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dict_8h_source.html#l00291">s_dict_keys::keys</a>.</p>

</div>
</div>
<a id="a66becdbd651b0382712e8d7ed0cd22ce" name="a66becdbd651b0382712e8d7ed0cd22ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66becdbd651b0382712e8d7ed0cd22ce">&#9670;&#160;</a></span>dict_free_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dict_free_values </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#aff87357254fc41160f05530cf9e49942">dict_values_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dict_values</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release memory from <code>dict_get_values</code> allocations. </p>
<p>If a <code>NULL</code> pointer is passed, or if the dict values have already been deallocated, the function will crash.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict_values</td><td>The values to free. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dict__free__values_8c_source.html#l00012">12</a> of file <a class="el" href="dict__free__values_8c_source.html">dict_free_values.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   13</span>{</div>
<div class="line"><span class="lineno">   14</span>    free(dict_values-&gt;<a class="code hl_variable" href="structs__dict__values.html#a698037e6478799f847a0fcd91ff0be43">values</a>);</div>
<div class="line"><span class="lineno">   15</span>    free(dict_values);</div>
<div class="line"><span class="lineno">   16</span>}</div>
<div class="ttc" id="astructs__dict__values_html_a698037e6478799f847a0fcd91ff0be43"><div class="ttname"><a href="structs__dict__values.html#a698037e6478799f847a0fcd91ff0be43">s_dict_values::values</a></div><div class="ttdeci">const void ** values</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00345">dict.h:345</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dict_8h_source.html#l00345">s_dict_values::values</a>.</p>

</div>
</div>
<a id="a7d2857cb35bbf508db10954af07a9768" name="a7d2857cb35bbf508db10954af07a9768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d2857cb35bbf508db10954af07a9768">&#9670;&#160;</a></span>dict_get_keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a37acf3a986b4069a5498454665a83be7">dict_keys_t</a> * dict_get_keys </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dict</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of the keys of the dict. </p>
<p>If an error occured during the dict_keys_t object allocation, <code>NULL</code> pointer is returned.</p>
<p>The <code>dict_keys_t</code> object will have to be free using the <code>dict_free_keys</code> function.</p>
<dl class="section warning"><dt>Warning</dt><dd>If a <code>NULL</code> pointer is passed, or if the dict has already been deallocated, the function will crash.</dd>
<dd>
DO NOT TRY TO FREE ANY ITEM INSIDE THE <code>keys</code> MEMBER BY YOURSELF. The <code>keys</code> array member contains references to the keys, not copies. If you free one of them, it may break the whole dict object.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The list of keys is not ordered. The keys are taken from each bucket from 0 to the size of the dict, and each of the bucket is iterated over from head to tail (linked list). Knowing that the insertion depends on a hash, we don't know the order in which the keys will appear in the list.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>The dict from which to get the keys. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The list of keys. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dict__get__keys_8c_source.html#l00035">35</a> of file <a class="el" href="dict__get__keys_8c_source.html">dict_get_keys.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>{</div>
<div class="line"><span class="lineno">   37</span>    <a class="code hl_struct" href="structs__dict__keys.html">dict_keys_t</a> *keys = (<a class="code hl_struct" href="structs__dict__keys.html">dict_keys_t</a> *) calloc(1, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structs__dict__keys.html">dict_keys_t</a>));</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>    <span class="keywordflow">if</span> (NULL == keys)</div>
<div class="line"><span class="lineno">   40</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">   41</span>    keys-&gt;<a class="code hl_variable" href="structs__dict__keys.html#a06f0b2ba80c00fe0335494f6df9a0df2">keys</a> = (<span class="keyword">const</span> <span class="keywordtype">char</span> **) calloc(dict-&gt;<a class="code hl_variable" href="structs__dict.html#a70b91e54a49a08e0d06539a06c665f89">items</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *));</div>
<div class="line"><span class="lineno">   42</span>    <span class="keywordflow">if</span> (NULL == keys-&gt;<a class="code hl_variable" href="structs__dict__keys.html#a06f0b2ba80c00fe0335494f6df9a0df2">keys</a>) {</div>
<div class="line"><span class="lineno">   43</span>        free(keys);</div>
<div class="line"><span class="lineno">   44</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">   45</span>    }</div>
<div class="line"><span class="lineno">   46</span>    <a class="code hl_function" href="dict__get__keys_8c.html#a51aaec80a0fe9f068819af6b30fa8265">populate_keys</a>(dict, keys);</div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordflow">return</span> keys;</div>
<div class="line"><span class="lineno">   48</span>}</div>
<div class="ttc" id="adict__get__keys_8c_html_a51aaec80a0fe9f068819af6b30fa8265"><div class="ttname"><a href="dict__get__keys_8c.html#a51aaec80a0fe9f068819af6b30fa8265">populate_keys</a></div><div class="ttdeci">static void populate_keys(const dict_t *dict, dict_keys_t *keys)</div><div class="ttdoc">This function will extract the keys from each bucket of the dict and place their reference to the key...</div><div class="ttdef"><b>Definition</b> <a href="dict__get__keys_8c_source.html#l00020">dict_get_keys.c:20</a></div></div>
<div class="ttc" id="astructs__dict__keys_html"><div class="ttname"><a href="structs__dict__keys.html">s_dict_keys</a></div><div class="ttdoc">This structure represents the keys of the dict. It will be computed each time the dict_keys() functio...</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00282">dict.h:282</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dict_8h_source.html#l00192">s_dict::items</a>, <a class="el" href="dict_8h_source.html#l00291">s_dict_keys::keys</a>, and <a class="el" href="dict__get__keys_8c_source.html#l00020">populate_keys()</a>.</p>

</div>
</div>
<a id="a335932b9203c802312366d3c1444cf3f" name="a335932b9203c802312366d3c1444cf3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a335932b9203c802312366d3c1444cf3f">&#9670;&#160;</a></span>dict_get_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#aff87357254fc41160f05530cf9e49942">dict_values_t</a> * dict_get_values </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dict</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of the values of the dict. </p>
<p>If an error occured during the dict_values_t object allocation, <code>NULL</code> pointer is returned.</p>
<p>The <code>dict_values_t</code> object will have to be free using the <code>dict_free_values</code> function.</p>
<dl class="section warning"><dt>Warning</dt><dd>If a <code>NULL</code> pointer is passed, or if the dict has already been deallocated, the function will crash.</dd>
<dd>
DO NOT TRY TO FREE ANY ITEM INSIDE THE <code>values</code> MEMBER BY YOURSELF. The <code>values</code> array member contains references to the values, not copies. If you free one of them, it may break the whole dict object.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The list of values is not ordered. The values are taken from each bucket from 0 to the size of the dict, and each of the bucket is iterated over from head to tail (linked list). Knowing that the insertion depends on a hash, we don't know the order in which the values will appear in the list.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>The dict from which to get the values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The list of values. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dict__get__values_8c_source.html#l00035">35</a> of file <a class="el" href="dict__get__values_8c_source.html">dict_get_values.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>{</div>
<div class="line"><span class="lineno">   37</span>    <a class="code hl_struct" href="structs__dict__values.html">dict_values_t</a> *values = (<a class="code hl_struct" href="structs__dict__values.html">dict_values_t</a> *) calloc(1, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structs__dict__values.html">dict_values_t</a>));</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>    <span class="keywordflow">if</span> (NULL == values)</div>
<div class="line"><span class="lineno">   40</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">   41</span>    values-&gt;<a class="code hl_variable" href="structs__dict__values.html#a698037e6478799f847a0fcd91ff0be43">values</a> = (<span class="keyword">const</span> <span class="keywordtype">void</span> **) calloc(dict-&gt;<a class="code hl_variable" href="structs__dict.html#a70b91e54a49a08e0d06539a06c665f89">items</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">void</span> *));</div>
<div class="line"><span class="lineno">   42</span>    <span class="keywordflow">if</span> (NULL == values-&gt;<a class="code hl_variable" href="structs__dict__values.html#a698037e6478799f847a0fcd91ff0be43">values</a>) {</div>
<div class="line"><span class="lineno">   43</span>        free(values);</div>
<div class="line"><span class="lineno">   44</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">   45</span>    }</div>
<div class="line"><span class="lineno">   46</span>    <a class="code hl_function" href="dict__get__values_8c.html#ad5a651207535302b23b445f0ec6645f4">populate_values</a>(dict, values);</div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordflow">return</span> values;</div>
<div class="line"><span class="lineno">   48</span>}</div>
<div class="ttc" id="adict__get__values_8c_html_ad5a651207535302b23b445f0ec6645f4"><div class="ttname"><a href="dict__get__values_8c.html#ad5a651207535302b23b445f0ec6645f4">populate_values</a></div><div class="ttdeci">static void populate_values(const dict_t *dict, dict_values_t *values)</div><div class="ttdoc">This function will extract the values from each bucket of the dict and place their reference to the v...</div><div class="ttdef"><b>Definition</b> <a href="dict__get__values_8c_source.html#l00020">dict_get_values.c:20</a></div></div>
<div class="ttc" id="astructs__dict__values_html"><div class="ttname"><a href="structs__dict__values.html">s_dict_values</a></div><div class="ttdoc">This structure represents the values of the dict. It will be computed each time the dict_values() fun...</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00336">dict.h:336</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dict_8h_source.html#l00192">s_dict::items</a>, <a class="el" href="dict__get__values_8c_source.html#l00020">populate_values()</a>, and <a class="el" href="dict_8h_source.html#l00345">s_dict_values::values</a>.</p>

</div>
</div>
<a id="a5afb5c3b7dca4ad31adfc6fd3003c405" name="a5afb5c3b7dca4ad31adfc6fd3003c405"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5afb5c3b7dca4ad31adfc6fd3003c405">&#9670;&#160;</a></span>dict_insert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dict_insert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dict</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t</td>          <td class="paramname"><span class="paramname"><em>key_length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Insert an entry into the dict. </p>
<p>The function allocates a new entry. If it was able to allocate AND insert the entry, the function returns 0. If either one failed, it will return -1 and the dict is left unchanged.</p>
<dl class="section warning"><dt>Warning</dt><dd>If a <code>NULL</code> pointer is passed, or if the dict has been deallocated, the function will crash.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If the key is <code>NULL</code> some functions may break. Make sure it's not before calling the function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>The dict in which to insert the entry. </td></tr>
    <tr><td class="paramname">key</td><td>The key to refer to the value. </td></tr>
    <tr><td class="paramname">key_length</td><td>The length of the key. </td></tr>
    <tr><td class="paramname">value</td><td>The value refered at via the key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dict__insert_8c_source.html#l00012">12</a> of file <a class="el" href="dict__insert_8c_source.html">dict_insert.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   13</span>{</div>
<div class="line"><span class="lineno">   14</span>    uint32_t key_hash = 0;</div>
<div class="line"><span class="lineno">   15</span>    <a class="code hl_struct" href="structs__bucket.html">bucket_t</a> **bucket_addr = NULL;</div>
<div class="line"><span class="lineno">   16</span> </div>
<div class="line"><span class="lineno">   17</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="#a93bb42c03acbeb39278700e9f668dbdb">DICT_MUST_GROW</a>(dict) &amp;&amp; -1 == <a class="code hl_function" href="#ac1041229270e0b557cd6eb6f7b4efb3a">dict_resize</a>(dict))</div>
<div class="line"><span class="lineno">   18</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   19</span>    key_hash = <a class="code hl_function" href="murmurhash1_8h.html#a4579f11c4f71c58fe6b20b1357223d99">murmurhash1</a>(key, key_length, <a class="code hl_define" href="#ac2ece6a50bbf9fc78c0bb2f44a7761c4">HASH_SEED</a>);</div>
<div class="line"><span class="lineno">   20</span>    bucket_addr = &amp;(dict-&gt;<a class="code hl_variable" href="structs__dict.html#a2ddc8b7275ad4df13116ac7e5dfc459e">buckets</a>[<a class="code hl_define" href="#af4e66decc8af7f74ae9eb17baa064382">DICT_BUCKET_IDX</a>(key_hash, dict-&gt;<a class="code hl_variable" href="structs__dict.html#a1fd66c225d3cf2cbe5d49b88e4d2c742">size</a>)]);</div>
<div class="line"><span class="lineno">   21</span>    <span class="keywordflow">if</span> (1 == <a class="code hl_function" href="#ab8dfdef434b70705a9802cf6a8fc7c09">dict_bucket_has_key</a>(*bucket_addr, key) || \</div>
<div class="line"><span class="lineno">   22</span>        -1 == <a class="code hl_function" href="#a736cd20eaee3b5c4aefbc432731c11d6">dict_bucket_insert</a>(bucket_addr, key, value))</div>
<div class="line"><span class="lineno">   23</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   24</span>    ++dict-&gt;<a class="code hl_variable" href="structs__dict.html#a70b91e54a49a08e0d06539a06c665f89">items</a>;</div>
<div class="line"><span class="lineno">   25</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   26</span>}</div>
<div class="ttc" id="adict_8h_html_a736cd20eaee3b5c4aefbc432731c11d6"><div class="ttname"><a href="#a736cd20eaee3b5c4aefbc432731c11d6">dict_bucket_insert</a></div><div class="ttdeci">int dict_bucket_insert(bucket_t **bucket, char *key, void *value)</div><div class="ttdoc">Inserts an entry into a dict bucket.</div><div class="ttdef"><b>Definition</b> <a href="dict__bucket__insert_8c_source.html#l00011">dict_bucket_insert.c:11</a></div></div>
<div class="ttc" id="adict_8h_html_a93bb42c03acbeb39278700e9f668dbdb"><div class="ttname"><a href="#a93bb42c03acbeb39278700e9f668dbdb">DICT_MUST_GROW</a></div><div class="ttdeci">#define DICT_MUST_GROW(D)</div><div class="ttdoc">Returns whether the dict must grow to accept new entries.</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00043">dict.h:43</a></div></div>
<div class="ttc" id="adict_8h_html_ab8dfdef434b70705a9802cf6a8fc7c09"><div class="ttname"><a href="#ab8dfdef434b70705a9802cf6a8fc7c09">dict_bucket_has_key</a></div><div class="ttdeci">int dict_bucket_has_key(const bucket_t *bucket, const char *key)</div><div class="ttdoc">Returns whether a key is present in the bucket.</div><div class="ttdef"><b>Definition</b> <a href="dict__bucket__has__key_8c_source.html#l00011">dict_bucket_has_key.c:11</a></div></div>
<div class="ttc" id="adict_8h_html_ac1041229270e0b557cd6eb6f7b4efb3a"><div class="ttname"><a href="#ac1041229270e0b557cd6eb6f7b4efb3a">dict_resize</a></div><div class="ttdeci">int dict_resize(dict_t *dict)</div><div class="ttdoc">Resizes the dict.</div><div class="ttdef"><b>Definition</b> <a href="dict__resize_8c_source.html#l00085">dict_resize.c:85</a></div></div>
<div class="ttc" id="adict_8h_html_ac2ece6a50bbf9fc78c0bb2f44a7761c4"><div class="ttname"><a href="#ac2ece6a50bbf9fc78c0bb2f44a7761c4">HASH_SEED</a></div><div class="ttdeci">#define HASH_SEED</div><div class="ttdoc">The hash seed to use. Mostly for security, but it has to be the same all across the project.</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00059">dict.h:59</a></div></div>
<div class="ttc" id="adict_8h_html_af4e66decc8af7f74ae9eb17baa064382"><div class="ttname"><a href="#af4e66decc8af7f74ae9eb17baa064382">DICT_BUCKET_IDX</a></div><div class="ttdeci">#define DICT_BUCKET_IDX(H, S)</div><div class="ttdoc">Returns the index to the bucket in which to store the entry.</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00068">dict.h:68</a></div></div>
<div class="ttc" id="amurmurhash1_8h_html_a4579f11c4f71c58fe6b20b1357223d99"><div class="ttname"><a href="murmurhash1_8h.html#a4579f11c4f71c58fe6b20b1357223d99">murmurhash1</a></div><div class="ttdeci">uint32_t murmurhash1(const void *key, uint64_t length, uint32_t seed)</div><div class="ttdoc">Hashes the key into an unsigned 32 bits.</div><div class="ttdef"><b>Definition</b> <a href="murmurhash1_8c_source.html#l00028">murmurhash1.c:28</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dict_8h_source.html#l00198">s_dict::buckets</a>, <a class="el" href="dict__bucket__has__key_8c_source.html#l00011">dict_bucket_has_key()</a>, <a class="el" href="dict_8h_source.html#l00068">DICT_BUCKET_IDX</a>, <a class="el" href="dict__bucket__insert_8c_source.html#l00011">dict_bucket_insert()</a>, <a class="el" href="dict_8h_source.html#l00043">DICT_MUST_GROW</a>, <a class="el" href="dict__resize_8c_source.html#l00085">dict_resize()</a>, <a class="el" href="dict_8h_source.html#l00059">HASH_SEED</a>, <a class="el" href="dict_8h_source.html#l00192">s_dict::items</a>, <a class="el" href="murmurhash1_8c_source.html#l00028">murmurhash1()</a>, and <a class="el" href="dict_8h_source.html#l00195">s_dict::size</a>.</p>

</div>
</div>
<a id="ac1041229270e0b557cd6eb6f7b4efb3a" name="ac1041229270e0b557cd6eb6f7b4efb3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1041229270e0b557cd6eb6f7b4efb3a">&#9670;&#160;</a></span>dict_resize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dict_resize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#ac5c57453f0b61d5eeb90f43be8b8323b">dict_t</a> *</td>          <td class="paramname"><span class="paramname"><em>dict</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resizes the dict. </p>
<p>This process implies that all the key hashes must be recomputed. Depending on both the size of the dict and the length of the keys, the runtime may be slow. We will used <code>strlen</code> instead of storing the length of the key as an entry member for the following reasons :</p>
<ol type="1">
<li>upon creation, there is a chance that the programmer already knows the length of the key, so that we don't have to use the <code>strlen</code> function. If they don't know the length of the key, they are responsible for using such function;</li>
<li>the resize opeartion is complitly abstract to the programmer;</li>
<li>dict object are pretty heavy in memory, it could be nice to save 8 bytes per key, knowning CPU can compute pretty fast, and that the <code>strlen</code> function is probably optimized;</li>
</ol>
<dl class="section warning"><dt>Warning</dt><dd>If a <code>NULL</code> pointer is passed, or if the dict has been deallocated, the function will crash.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If the dict could not be resized, it's unchanged and -1 is returned.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict</td><td>The dict to resize. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="dict__resize_8c_source.html#l00085">85</a> of file <a class="el" href="dict__resize_8c_source.html">dict_resize.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   86</span>{</div>
<div class="line"><span class="lineno">   87</span>    uint64_t index = 0;</div>
<div class="line"><span class="lineno">   88</span>    uint64_t new_size = <a class="code hl_function" href="dict__resize_8c.html#ad05ff11923ca728722009408c25412ed">round_size</a>(dict-&gt;<a class="code hl_variable" href="structs__dict.html#a1fd66c225d3cf2cbe5d49b88e4d2c742">size</a> * <a class="code hl_define" href="#aa87ee90c1daf77654454f884e16fde66">DICT_RESIZE_FACTOR</a>);</div>
<div class="line"><span class="lineno">   89</span>    <a class="code hl_struct" href="structs__bucket.html">bucket_t</a> **new_buckets = <a class="code hl_function" href="dict__resize_8c.html#abed2471fb85b615d5b59d885886fdbe9">compute_new_buckets</a>(new_size);</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">if</span> (NULL == new_buckets)</div>
<div class="line"><span class="lineno">   92</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">for</span> (; index &lt; dict-&gt;<a class="code hl_variable" href="structs__dict.html#a1fd66c225d3cf2cbe5d49b88e4d2c742">size</a>; ++index)</div>
<div class="line"><span class="lineno">   94</span>        <a class="code hl_function" href="dict__resize_8c.html#a37c2b8ca90988b91ddcc0554072d931f">dict_rehash_bucket</a>(dict-&gt;<a class="code hl_variable" href="structs__dict.html#a2ddc8b7275ad4df13116ac7e5dfc459e">buckets</a>[index], new_buckets, new_size);</div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_function" href="#ac20f129d95f8bf5e1ec41b351d4e7046">dict_buckets_dtor</a>(dict-&gt;<a class="code hl_variable" href="structs__dict.html#a2ddc8b7275ad4df13116ac7e5dfc459e">buckets</a>, dict-&gt;<a class="code hl_variable" href="structs__dict.html#a1fd66c225d3cf2cbe5d49b88e4d2c742">size</a>, NULL);</div>
<div class="line"><span class="lineno">   96</span>    free(dict-&gt;<a class="code hl_variable" href="structs__dict.html#a2ddc8b7275ad4df13116ac7e5dfc459e">buckets</a>);</div>
<div class="line"><span class="lineno">   97</span>    dict-&gt;<a class="code hl_variable" href="structs__dict.html#a2ddc8b7275ad4df13116ac7e5dfc459e">buckets</a> = new_buckets;</div>
<div class="line"><span class="lineno">   98</span>    dict-&gt;<a class="code hl_variable" href="structs__dict.html#a1fd66c225d3cf2cbe5d49b88e4d2c742">size</a> = new_size;</div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  100</span>}</div>
<div class="ttc" id="adict_8h_html_aa87ee90c1daf77654454f884e16fde66"><div class="ttname"><a href="#aa87ee90c1daf77654454f884e16fde66">DICT_RESIZE_FACTOR</a></div><div class="ttdeci">#define DICT_RESIZE_FACTOR</div><div class="ttdoc">Once multiplied by the number of entries, returns the new dict size.</div><div class="ttdef"><b>Definition</b> <a href="dict_8h_source.html#l00035">dict.h:35</a></div></div>
<div class="ttc" id="adict__resize_8c_html_a37c2b8ca90988b91ddcc0554072d931f"><div class="ttname"><a href="dict__resize_8c.html#a37c2b8ca90988b91ddcc0554072d931f">dict_rehash_bucket</a></div><div class="ttdeci">static void dict_rehash_bucket(const bucket_t *bucket, bucket_t **new_buckets, uint64_t new_size)</div><div class="ttdoc">This function iterates over a non-empty bucket linked list. It looks for all it's entries,...</div><div class="ttdef"><b>Definition</b> <a href="dict__resize_8c_source.html#l00052">dict_resize.c:52</a></div></div>
<div class="ttc" id="adict__resize_8c_html_abed2471fb85b615d5b59d885886fdbe9"><div class="ttname"><a href="dict__resize_8c.html#abed2471fb85b615d5b59d885886fdbe9">compute_new_buckets</a></div><div class="ttdeci">static bucket_t ** compute_new_buckets(uint64_t new_size)</div><div class="ttdoc">This function is reponsible for allocating a new linked list buckets array.</div><div class="ttdef"><b>Definition</b> <a href="dict__resize_8c_source.html#l00024">dict_resize.c:24</a></div></div>
<div class="ttc" id="adict__resize_8c_html_ad05ff11923ca728722009408c25412ed"><div class="ttname"><a href="dict__resize_8c.html#ad05ff11923ca728722009408c25412ed">round_size</a></div><div class="ttdeci">static uint64_t round_size(uint64_t new_size)</div><div class="ttdoc">This function makes sure the new size is a power of 2.</div><div class="ttdef"><b>Definition</b> <a href="dict__resize_8c_source.html#l00074">dict_resize.c:74</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dict_8h_source.html#l00198">s_dict::buckets</a>, <a class="el" href="dict__resize_8c_source.html#l00024">compute_new_buckets()</a>, <a class="el" href="dict__buckets__dtor_8c_source.html#l00041">dict_buckets_dtor()</a>, <a class="el" href="dict__resize_8c_source.html#l00052">dict_rehash_bucket()</a>, <a class="el" href="dict_8h_source.html#l00035">DICT_RESIZE_FACTOR</a>, <a class="el" href="dict__resize_8c_source.html#l00074">round_size()</a>, and <a class="el" href="dict_8h_source.html#l00195">s_dict::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="dict__insert_8c_source.html#l00012">dict_insert()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dict_8h.html">dict.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
